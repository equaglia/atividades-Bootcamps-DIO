/**
 * You can edit, run, and share this code. 
 * play.kotlinlang.org 
 */
const val SOMAR = 0
const val SUBTRAIR = 1
const val MULTIPLICAR = 2
const val DIVIDIR = 3


fun main() {
    val a:Float? = 10.toFloat()
    val b:Float? = 2.toFloat()
    val c:Float? = null
    
    calculadora(a, b, SOMAR)
    calculadora(a, b, SUBTRAIR)
    calculadora(a, b, MULTIPLICAR)
    calculadora(a, b, DIVIDIR)
    calculadora(a, c, SOMAR)
    calculadora(a, c, SUBTRAIR)
    calculadora(a, c, MULTIPLICAR)
    calculadora(a, c, DIVIDIR)
    calculadora(c, b, SOMAR)
    calculadora(c, b, SUBTRAIR)
    calculadora(c, b, MULTIPLICAR)
    calculadora(c, b, DIVIDIR)
}

fun soma(a:Float, b:Float) = a.plus(b)
fun subtrai(a:Float, b:Float) = a.minus(b)
fun multiplica(a:Float, b:Float) = a.times(b)
fun divide(a:Float, b:Float) = a.div(b)

fun calcula(a:Float?, b:Float?, operacao:(Float,Float)->Float):Float?{
    if ((a == null) || (b == null)){
        println("Calculo cancelado, pois um dos valores de entrada Ã© nulo!")
        return null
    }
    return operacao(a, b)
    //val aa:Float = a?: 1.toFloat()
    //val bb:Float = b?: 0.toFloat()
    //return operacao(aa, bb)
}
            
fun calculadora(a:Float?, b:Float?, oper:Int):Float?{
    val resultado:Float?
    resultado = when(oper){
        SOMAR -> calcula(a,b,::soma)
        SUBTRAIR -> calcula(a,b,::subtrai)
        MULTIPLICAR -> calcula(a,b,::multiplica)
        DIVIDIR -> calcula(a,b,::divide)
        else -> null
    }
    if (resultado != null){
        println(resultado)
    }
    return resultado
}
